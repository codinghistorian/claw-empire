# Claw-Empire v1.0.5 Release Notes

- Release date: 2026-02-19
- Scope: Runtime modularization follow-up, `/api/inbox` webhook security documentation parity, and OpenClaw config-path reliability hardening.

## Highlights

- Continued server decomposition so route/workflow/runtime boundaries are easier to maintain and review in smaller PRs.
- Standardized `/api/inbox` guidance across all README languages:
  - `x-inbox-secret` header is required.
  - header mismatch or omission returns `401`.
- Added one-time auto-migration for existing clones after `git pull`:
  - first `pnpm dev*` / `pnpm start*` run can generate missing `INBOX_WEBHOOK_SECRET`
  - normalizes `OPENCLAW_CONFIG` when needed
  - refreshes AGENTS orchestration rules when stale
  - persists `CLAW_MIGRATION_V1_0_5_DONE=1` to avoid repeated execution
- Expanded AGENTS secret resolution (`INBOX_SECRET_DISCOVERY_V2`) so orchestration can locate `INBOX_WEBHOOK_SECRET` even when running outside the project root:
  - shell env (`INBOX_WEBHOOK_SECRET`)
  - `.env` / `.env.clone` in current working directory or git root
  - common local project paths under home directory
- Updated AI Installation Guide and Quick Start to include required `.env` checks for:
  - `INBOX_WEBHOOK_SECRET`
  - `OPENCLAW_CONFIG`
- Clarified OpenClaw setup recommendations:
  - use absolute `OPENCLAW_CONFIG` paths in `.env`
  - unquoted format is preferred in docs for consistency
- Hardened runtime parsing for `OPENCLAW_CONFIG` compatibility:
  - strips surrounding quotes
  - normalizes leading `~` to the user home directory

## Problem-Cause Alignment

This patch addresses two high-frequency integration failures reported from real setup flows:

1. Missing `x-inbox-secret` in webhook examples causing `/api/inbox` to reject valid requests.
2. `OPENCLAW_CONFIG` path mismatches caused by quoted values or unresolved `~` in `.env`.

## Documentation Updates (Global)

- `README.md`
- `README_ko.md`
- `README_jp.md`
- `README_zh.md`
- `.env.example`
- `docs/releases/README.md`
- `docs/releases/v1.0.5.md`

## Maintenance Notes

- Removed stale release-note phrasing that implied `v1.0.5` was only a potential future patch.
- Removed transient test-result style wording from release-note summaries to keep changelog entries stable.
- Fixed a runtime crash in review orchestration caused by missing workflow context binding (`isTaskWorkflowInterrupted` / `clearTaskWorkflowState`) in `meetings.ts`.
